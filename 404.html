<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://ogp.me/ns/fb#">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Dosiiroc Cafe 404">
    <link rel="preload" href="/resources/stylesheet.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="icon" href="/resources/images/favicon_small.ico">
    <title>Dosiiroc Cafe 404</title>
</head>
<body style="background-color: #FFFDF9; margin:0px; padding:0px">
    <script>
        /* When the user clicks on the button,
        toggle between hiding and showing the dropdown content */
        function dropdown_func() {
            document.getElementById("myDropdown").classList.toggle("show");
            //var dropbutton = document.getElementsByClassName("dropbtn");
            var dropbutton = document.getElementsByClassName("dropbtn");
            var arrow = document.getElementsByClassName("arrow_down");
        
            dropbutton[0].classList.toggle("rotate_chopsticks");
            //arrow[0].classList.toggle("rotate_arrow");
        }
        
        // Close the dropdown menu if the user clicks outside of it
        window.onclick = function(event) {
            if (!event.target.matches('.dropbtn') && !event.target.matches('.rice_bowl') && !event.target.matches(".arrow_down")) {
                var dropdowns = document.getElementsByClassName("dropdown-content");
                var i;
                for (i = 0; i < dropdowns.length; i++) {
                    var openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                    }
                }
                var dropbutton = document.getElementsByClassName("dropbtn");
                if (dropbutton[0].classList.contains("rotate_chopsticks")) {
                    dropbutton[0].classList.toggle("rotate_chopsticks");    
                }
            }
        }
    </script>
    <center>
        <div class="top_bar" style="text-align: center;">
            <table>
                <tr>
                    <td style="padding-left:5%"><a href="https://dosiiroccafe.com"><img style="max-width: 330px; width:33vw;"src="/resources/images/logo FINAL-colored.png"></a></td>
                </tr> 
            </table>
        </div>
    </center>
    <hr>
    <center>
    <ul style="display:inline-block; text-align:center">
        <li align="center" style="text-align:center; float:none;">
            <h2 align="center">ðŸš§ This site is currently under construction ðŸš§</h2>
        </li>
        <li align="center" style="text-align:center; float:none">
            <p align="center" style="font-size:min(30px, 2.75vw)">404 Error, that page doesn't exist!</p>
        </li>
    </ul>
    </center>
    <div class="bottom_nav_bar">
        <ul>
            <div class="about_button">
                <center>
                    <li align="center">
                        <h2>Links</h2>
                        <a href=https://www.instagram.com/dosiiroccafe/?utm_source=ig_embed&ig_rid=676fea6d-ba69-4fad-ab10-ae74d11c5842"><img src="/resources/images/dosiiroc_insta.png" style="width:min(50px,5vw);"></a>
                        <a href="https://docs.google.com/forms/d/e/1FAIpQLSfr4gpbMgaLDBHJM5OTaYs5i7J9dlGKjitaEpNJX3mmCRty1A/viewform"><p>Job Application</p></a>
                    </li>
                </center>
            </div>
            <li align="left">
                <h2>Hours</h2>
                <p id="open_sign"></p>
                <p>Sunday: Closed</p>
                <p>Monday through Thursday: 4pm - 8:30pm</p>
                <p>Friday & Saturday: 11am - 2pm, 4pm - 8:30pm</p>
            </li>
            <li align="left">
                <h2>Location</h2>
                <p>1225 Jefferson Road Suite A11, Rochester, New York 14623</p>
                <h2>Contact Info</h2>
                <p>(585) 319-4635</p>
                <p>dosiiroccafe@gmail.com</p>
            </li>
        </ul>
    </div>
    <script>
        const date = new Date();
        const currentDay = date.getDay();
        const currentHour = date.getHours();
        const currentMinute = date.getMinutes();

        const openingTimeMorning = 11;
        const closingTimeMorning = 14;
        const openingTimeAfternoon = 16;
        const closingTimeAfternoon = 20;

        // sun,  mon,  tues,  wed,   thurs, fri,  sat
        const hasMorningShift = [false, false, false, false, false, true, true];
        const openSign = document.getElementById("open_sign");

        function getTimeUntilString(targetHour, currentHour, currentMinute) {
            const totalMinutesUntil = (targetHour * 60) - (currentHour * 60 + currentMinute);
            const hours = Math.floor(totalMinutesUntil / 60);
            const mins = totalMinutesUntil % 60;

            let text = "";
            if (hours > 0) {
                text += `${hours} hour${hours === 1 ? '' : 's'} and `;
            }
            text += `${mins} minute${mins === 1 ? '' : 's'}.`;

            return text;
        }

        if (currentDay === 0) {
            openSign.textContent = "Sorry, we're currently closed";
        } else {
            const morningOpen = hasMorningShift[currentDay];

            if (morningOpen && currentHour < openingTimeMorning) {
                openSign.textContent = `We'll be open in ${getTimeUntilString(openingTimeMorning, currentHour, currentMinute)}`;

            } else if (morningOpen && currentHour < closingTimeMorning) {
                openSign.textContent = "We're open!";

            } else if (currentHour < openingTimeAfternoon) {
                const prefix = (morningOpen && currentHour >= closingTimeMorning) ? "We'll re-open in " : "We'll be open in ";
                openSign.textContent = `${prefix}${getTimeUntilString(openingTimeAfternoon, currentHour, currentMinute)}`;

            } else if (currentHour < closingTimeAfternoon) {
                openSign.textContent = "We're open!";

            } else {
                openSign.textContent = "We're closed, come back soon!";
            }
        }
    </script>
</body>